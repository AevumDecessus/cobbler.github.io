<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Cobbler Manual</title>
   <meta name="author" content="Cobbler development team" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/style.css" type="text/css" />

   <!-- Fonts -->
   <link href='http://fonts.googleapis.com/css?family=Signika|Ovo' rel='stylesheet' type='text/css'>

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Icon -->
   <link rel="icon" type="image/png" href="/images/favicon.png" />

   <!-- searching -->
   <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
   <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>
   <link rel="stylesheet" href="http://code.jquery.com/ui/1.8.18/themes/base/jquery-ui.css" type="text/css" />
   <script type="text/javascript" src="/scripts/search.js"></script>
</head>
<body>

<!-- ClickTale Top part -->
<script type="text/javascript">
var WRInitTime=(new Date()).getTime();
</script>
<!-- ClickTale end of Top part -->


<div id="wrapper">
  <div id="header">
    <img id="logo" src="/images/logo-cobbler.png" alt="logo" />
    <div id="searchdiv">
<script type="text/javascript">
function do_search() {
  run_search(function doit() {
  var resultsdiv = $('div#results');
  var itemsdiv = $('div#items');

  if (final_results.length > 0) {
    html = '<ul>';
    $.each(final_results, function(idx,obj) {
      var title = obj["t"];
      var link = obj["u"];
      html += '<li><a href="'+link+'">'+title+'</a></li>';
    });
    html += '</ul>';
    itemsdiv.html(html);
  } else {
    itemsdiv.html('<p class="error">No search results found.</p>');
  }

  if (!resultsdiv.is(":visible")) {
    resultsdiv.css({top:0,left:0,width:"300px","max-height":"100px"}).position({
      my: "left top",
      at: "left bottom",
      of: "input#searchbox",
      offset: "0 0",
      collision: "none"
    }).fadeIn();
  }
  });
}

function close_results() {
  var resultsdiv = $('div#results');
  if (resultsdiv.is(":visible")) {
    resultsdiv.fadeOut();
  }
}
</script>
      <input id="searchbox" class="search" type="text" />
      <input id="searchbutton" class="search" type="button" value="search" onclick="do_search();" />
      <div id="results" class="menu">
        <!--<a href="javascript:close_results();"><img src="/images/cancel.png" /></a>-->
        <input type="image" src="/images/cancel.png" onclick="javascript:close_results();" />
        <div id="items"></div>
      </div>
    </div>

  </div> <!-- header -->
  <div id="container">
    <div id="leftcol">
<div id="mainmenu" class="menu">
  <div class="heading">Main Menu</div>
  <ul>
    <li><a href="/" title="Index">Home</a></li>
    <li><a href="/about.html" title="About Cobbler">About Cobbler</a></li>
    <li><a href="/users.html" title="Who's Using Cobbler">Who's Using Cobbler</a></li>
    <li class="last"><a href="/community.html" title="Cobbler Community">Cobbler Community</a></li>
  </ul>
  <div class="heading">Manuals</div>
  <ul>
    <li class="last"><a href="/manuals/2.2.3/" title="Version 2.2.3">Version 2.2.3</a></li>
  </ul>
  <div class="heading">Github</div>
  <ul>
    <li><a href="https://github.com/cobbler/cobbler" title="Main Repo" target="_blank">Main Repo</a></li>
    <li><a href="https://github.com/cobbler/cobbler/issues" title="Issues" target="_blank">Issue Tracker</a></li>
    <li class="last"><a href="https://github.com/cobbler/cobbler/wiki" title="Github Wiki" target="_blank">Wiki</a></li>
  </ul>
</div>

    </div> <!-- leftcol -->
    <div id="rightcol">
<div class="toc"><ul class="dirtree"><li><a href="/manuals/2.2.3/5/1_-_Advanced_Networking.html">1 - Advanced Networking</a></li><ul class="dirtree"><li><a href="/manuals/2.2.3/5/1/1_-_Bonding.html">1.1 - Bonding</a></li><li><a href="/manuals/2.2.3/5/1/2_-_VLANs.html">1.2 - VLANs</a></li><li><a href="/manuals/2.2.3/5/1/3_-_Bridging.html">1.3 - Bridging</a></li></ul><li><a href="/manuals/2.2.3/5/2_-_SELinux.html">2 - SELinux</a></li><li><a href="/manuals/2.2.3/5/3_-_Configuration_Management.html">3 - Configuration Management</a></li><ul class="dirtree"><li><a href="/manuals/2.2.3/5/3/1_-_Built-In_Configuration_Management.html">3.1 - Built-In Configuration Management</a></li><li><a href="/manuals/2.2.3/5/3/2_-_Puppet_Integration.html">3.2 - Puppet Integration</a></li><li><a href="/manuals/2.2.3/5/3/3_-_Func_Integration.html">3.3 - Func Integration</a></li></ul><li><a href="/manuals/2.2.3/5/4_-_Anaconda_Monitoring.html">4 - Anaconda Monitoring</a></li><li><a href="/manuals/2.2.3/5/5_-_Extending_Cobbler.html">5 - Extending Cobbler</a></li><ul class="dirtree"><li><a href="/manuals/2.2.3/5/5/1_-_Triggers.html">5.1 - Triggers</a></li><li><a href="/manuals/2.2.3/5/5/2_-_Modules.html">5.2 - Modules</a></li><li><a href="/manuals/2.2.3/5/5/3_-_Extending_Cheetah.html">5.3 - Extending Cheetah</a></li></ul><li><a href="/manuals/2.2.3/5/6_-_Power_Management.html">6 - Power Management</a></li><li><a href="/manuals/2.2.3/5/7_-_Alternative_Template_Formats.html">7 - Alternative Template Formats</a></li><li><a href="/manuals/2.2.3/5/8_-_Multi-Homed_Cobbler_Servers.html">8 - Multi-Homed Cobbler Servers</a></li><li><a href="/manuals/2.2.3/5/9_-_Memtest.html">9 - Memtest</a></li><li><a href="/manuals/2.2.3/5/10_-_Virtual_Image_Cloning.html">10 - Virtual Image Cloning</a></li><li><a href="/manuals/2.2.3/5/11_-_Auto-Registration.html">11 - Auto-Registration</a></li><li><a href="/manuals/2.2.3/5/12_-_Booting_Live_CDs.html">12 - Booting Live CDs</a></li><li><a href="/manuals/2.2.3/5/13_-_Clonezilla_Integration.html">13 - Clonezilla Integration</a></li><li><a href="/manuals/2.2.3/5/14_-_Batch_Editing.html">14 - Batch Editing</a></li><li><a href="/manuals/2.2.3/5/15_-_Moving_to_a_New_Server.html">15 - Moving to a New Server</a></li><li><a href="/manuals/2.2.3/5/16_-_PXE-boot_Menu_Passwords.html">16 - PXE-boot Menu Passwords</a></li><li><a href="/manuals/2.2.3/5/17_-_System_Retirement.html">17 - System Retirement</a></li><li><a href="/manuals/2.2.3/5/18_-_Alternative_Storage_Backends.html">18 - Alternative Storage Backends</a></li><ul class="dirtree"><li><a href="/manuals/2.2.3/5/18/1_-_CouchDB.html">18.1 - CouchDB</a></li><li><a href="/manuals/2.2.3/5/18/2_-_MongoDB.html">18.2 - MongoDB</a></li></ul><li><a href="/manuals/2.2.3/5/19_-_Using_gPXE.html">19 - Using gPXE</a></li><li><a href="/manuals/2.2.3/5/20_-_Data_Revision_Control.html">20 - Data Revision Control</a></li></ul></div>
    </div> <!-- rightcol -->
    <div id="content">
<h1>Cobbler Manual</h1>
<h2>Clonezilla live integration</h2>

<p>Since many of us need to support non-linux systems in addition to
Linux systems, some facility for support of these systems is
helpful - especially if your dhcp server is pointing pxe boots to
your cobbler server. PXE booting a clonezilla live CD as an option
under cobbler provides a unified starting point for all system
installation tasks.</p>

<h2>Step-by-step (as of 2.2.2)</h2>

<p> \1. Download clonezilla live image from here here:
 <a href="http://clonezilla.org/downloads.php">http://clonezilla.org/downloads.php</a>
 . I used the ubuntu based "experimental" version because the Debian
 based clonezilla's don't have necessary network drivers for many
 Dell servers.</p>

<p>\2. Unpack the zip file to a location on the machine, and run an add the distribution
  cobbler distro add  --name=clonezilla1-2-22-37 --arch=x86_64 --breed=other --os-version=other --boot-files="'$img_path/filesystem.squashfs'='<path_to_your_folder>/live/filesystem.squashfs'" --kernel=<path_to_your_folder>/live/vmlinuz --initrd=<path_to_your_folder>/live/initrd.img</p>

<p>\3. Set up the kickstart kernel options needed for booting to at least:
  nomodeset edd=on ocs_live_run=ocs-live-general ocs_live_keymap=NONE boot=live vga=788 noswap noprompt nosplash ocs_live_batch=no ocs_live_extra_param ocs_lang=en_US.UTF-8 ocs_lang=None nolocales config fetch=tftp://<Your_TFTP_ServerIP>/images/<your_Profile_NAME>/filesystem.squashfs</p>

<p>\4. You should then be able to create a profile for the clonezilla distro and then add to the kernel options, and be able to customize the startup procedure from there using the clonezilla docs.</p>

<p>\5. Run "cobbler sync" to set up the template for the systems you need.</p>

<h2>Limitations and work needed</h2>

<p>\1. I've seen the download of the squashfs skipped on more than one
 occaision, resulting in a kernel panic. Not sure why this happens,
 but trying again fixes the problem (or could just be because I'm
 still experimenting too much).</p>

<p>\2. Would be nice if clonezilla UI was integrated into cobbler
 somewhat (i.e. it knew the IP of the server saving the images and
 maybe had an ssh key so it could get access without a password).</p>

<p>\3. <strong>Still very experimental.</strong></p>

     <div id="push"></div> <!-- push -->
    </div> <!-- content -->
  </div> <!-- container -->
</div> <!-- wrapper -->

<div id="footer">
  <div class="contact">&copy; 2012</div>
</div>

<!-- Google Analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-27319020-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<!-- Google Analytics end -->

</body>
</html>

